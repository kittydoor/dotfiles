# KERNEL
# Add hooks to /etc/mkinitcpio.conf
# example (additions in capitals, all must be lowercase):
# base udev autodetect KEYBOARD modconf block ENCRYPT LVM2 filesystems ~keyboard~ fsck
# keyboard for keys, keymap (optional) for non-us, encrypt for encryption, lvm2 for lvm

ls /sys/firmware/efi/efivars # check if in uefi mode

mkinitcpio -p linux

# GRUB
pacman -S grub efibootmgr

/etc/default/grub
GRUB_ENABLE_CRYPTODISK=y # uncomment
GRUB_CMDLINE_LINUX="... cryptdevice=UUID=...:cryptlvm ..." # add


grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=GRUB

grub-mkconfig -o /boot/grub/grub.cfg
